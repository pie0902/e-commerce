<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <include resource="org/springframework/boot/logging/logback/base.xml"/>

    <appender name="console" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

    <root level="INFO">
        <appender-ref ref="console" />
    </root>
</configuration>

<!--<configuration>-->
<!--    &lt;!&ndash; Spring의 환경 프로퍼티를 로드하여 Logstash 목적지 설정 &ndash;&gt;-->
<!--&lt;!&ndash;    <springProfile name="default">&ndash;&gt;-->
<!--&lt;!&ndash;        <property resource="application.yml"/>&ndash;&gt;-->
<!--&lt;!&ndash;    </springProfile>&ndash;&gt;-->
<!--&lt;!&ndash;    <springProperty scope="context" name="logstash.destination" source="destination" defaultValue="localhost:5000"/>&ndash;&gt;-->

<!--    &lt;!&ndash; Spring Boot의 기본 로깅 설정 파일 포함 &ndash;&gt;-->
<!--    <include resource="org/springframework/boot/logging/logback/base.xml"/>-->

<!--    &lt;!&ndash; console appender 정의 &ndash;&gt;-->
<!--    <appender name="console" class="ch.qos.logback.core.ConsoleAppender">-->
<!--        <encoder>-->
<!--            <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>-->
<!--        </encoder>-->
<!--    </appender>-->

<!--    &lt;!&ndash; logstash appender 정의 &ndash;&gt;-->
<!--    <appender name="logstash" class="net.logstash.logback.appender.LogstashTcpSocketAppender">-->
<!--        <destination>${destination}</destination> &lt;!&ndash; Logstash 목적지 설정 &ndash;&gt;-->
<!--        <encoder class="net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder">-->
<!--            <providers>-->
<!--                <mdc />-->
<!--                <context />-->
<!--                <logLevel />-->
<!--                <loggerName />-->
<!--                <pattern>-->
<!--                    <pattern>-->
<!--                        {-->
<!--                        "app": "ms-user"-->
<!--                        }-->
<!--                    </pattern>-->
<!--                </pattern>-->
<!--                <threadName />-->
<!--                <message />-->
<!--                <logstashMarkers />-->
<!--                <stackTrace />-->
<!--            </providers>-->
<!--        </encoder>-->
<!--    </appender>-->

<!--    &lt;!&ndash; WARN 이상인 경우 logstash appender 참조 &ndash;&gt;-->
<!--    <root level="WARN">-->
<!--        <appender-ref ref="logstash" />-->
<!--        <appender-ref ref="console" />-->
<!--    </root>-->
<!--</configuration>-->
